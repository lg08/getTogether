{% extends 'base.html' %}
{% load custom_tags %}
{% load crispy_forms_tags %}


{% block page_title%}
    <title>Post: {{ post.title }}</title>

{% endblock %}

{% block body %}




    <div class="container">
        <center>
            <h1> {{ post.title }} </h1>
        </center>
        <br/>
        <h3>Description:</h3>
        <p>
            {{post.message}}
        </p>

        <hr/>

        {% if post.start_time %}
            <h5>Starts At: {{ post.start_time }}</h3>
            <h5>Ends At: {{ post.end_time }}</h3>
            {{ post.event }}
        {% else %}
        {% endif %}

        <hr/>

        <h1>Comments:</h1>

        {% if post.start_time %}

        {% else %}

        {% endif %}


        <!-- recursive comment revealing -->
        {% create_stack post.post_comments.all as commentstack %}
        {% create_stack post.post_comments.all as commentstackcopy %}
        {% for number in  commentstackcopy %}
            {% include 'posts/comment.html' %}
        {% endfor %}


        <form
            action="{% url "posts:create_comment" subcomment=0 postpk=post.pk commentpk=0 %}"
            method="POST"
            class="collapse show multi-collapse"
            id="initial_modal" >

            {{ comment_form|crispy }}
            {% csrf_token %}
            <button
                type="submit"
                class="btn btn-secondary">
                Submit
            </button>
        </form>

    </div>

{% endblock %}
